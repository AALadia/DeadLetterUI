{
    "$defs": {
        "ServiceErrorMessage": {
            "properties": {
                "traceback": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "traceback for debugging",
                    "title": "Traceback"
                },
                "serviceEndpoint": {
                    "anyOf": [
                        {
                            "type": "string"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "The service endpoint that produced the error",
                    "title": "Serviceendpoint"
                }
            },
            "title": "ServiceErrorMessage",
            "type": "object"
        }
    },
    "properties": {
        "_id": {
            "description": "Unique ID of the failed message",
            "title": "Id",
            "type": "string"
        },
        "messageId": {
            "description": "ID of the message from PubSub",
            "title": "Messageid",
            "type": "string"
        },
        "_version": {
            "default": 1,
            "title": "Version",
            "type": "integer"
        },
        "originalMessage": {
            "additionalProperties": true,
            "description": "The original message payload that failed",
            "title": "Originalmessage",
            "type": "object"
        },
        "retryCount": {
            "default": 0,
            "description": "Number of retry attempts made",
            "title": "Retrycount",
            "type": "integer"
        },
        "status": {
            "default": "pending",
            "description": "Current retry status",
            "enum": [
                "pending",
                "success",
                "failed"
            ],
            "title": "Status",
            "type": "string"
        },
        "createdAt": {
            "description": "When the dead letter was created",
            "format": "date-time",
            "title": "Createdat",
            "type": "string"
        },
        "lastTriedAt": {
            "anyOf": [
                {
                    "format": "date-time",
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "When it was last retried",
            "title": "Lasttriedat"
        },
        "publisherProjectId": {
            "anyOf": [
                {
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "Project ID of the publisher",
            "title": "Publisherprojectid"
        },
        "endPoints": {
            "anyOf": [
                {
                    "items": {
                        "type": "string"
                    },
                    "type": "array"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "Endpoint URL for the subscription",
            "title": "Endpoints"
        },
        "errorMessage": {
            "anyOf": [
                {
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "Error message if retry failed",
            "title": "Errormessage"
        },
        "serviceErrorMessage": {
            "description": "List of service error messages",
            "items": {
                "$ref": "#/$defs/ServiceErrorMessage"
            },
            "title": "Serviceerrormessage",
            "type": "array"
        },
        "originalTopicPath": {
            "anyOf": [
                {
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "default": null,
            "description": "Original topic path for the message",
            "title": "Originaltopicpath"
        }
    },
    "required": [
        "_id",
        "messageId",
        "originalMessage"
    ],
    "title": "DeadLetter",
    "type": "object",
    "additionalProperties": false
}